\documentclass[a4paper,11pt,oneside]{article}

\usepackage[latin1]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath, amsfonts, amssymb, amsthm}
\usepackage{graphicx}
\usepackage[hmargin=25mm,vmargin=25mm]{geometry}
\usepackage{hyperref} %per i collegamenti
\usepackage{listings}
\usepackage[small,bf]{caption}


\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}




\begin{document}
\begin{center}\begin{huge}\textbf{Information Retrieval}\end{huge}
\medskip 

\begin{huge}Final project\end{huge}
\bigskip 

\begin{large}
Emilio Del Tessandoro 412888, Chiara Marcheschi 303756, \today
\end{large}
\end{center}


\section{Introduction}
\label{sec:intro}

\subsection{Two datasets}
We had at our disposal two dataset, the one given with the text of the project (and described in the slides) which consists of three files:
\begin{enumerate}
\item Users file, containing informations about 170000 users that are followers of 7 given italian politicians.
\item Tweets file, containing a number of tweets from the users in the previous file.
\item Graph file, containing the associations user-politician (which users follow a given politician).
\end{enumerate}
Other information on this files and the format of each one can be found in the slides.

The other dataset has been downloaded by the group composed by Daniele De Sensi, Andrea Cicalese and Francesco Piccinno (so refer to them report for other details), and we used in particular the tweets of the users, not the politicians.


\section{The users graph}
Here we wanted analyse the structure of the users graph. In particular we are interested in finding the users that follows more than one politician. For this purpose we ``inverted'' the graph file given in the first data set: instead of having for every politician the list of users that are him followers, we create, for every user, the list of politicians followed by that user.
So we have a list of pairs \textit{(user, list of politicians)}, that can be easily sorted on the politicians list length in order to view the users that follows $x$ politicians. We obtained the following results on the first data set:

\begin{figure}[h]
\begin{center}
	\begin{tabular}{l | l}
	%\hline
	Following 1 politician: & 127037\\ %\hline
	Following 2 politicians: & 30667\\ %\hline
	Following 3 politicians: & 12731\\ %\hline
	Following 4 politicians: & 2101\\ %\hline
	Following 5 politicians: & 400\\ %\hline
	Following 6 politicians: & 99\\ %\hline
	Following 7 politicians: & 8\\ \hline
	Total:	 & 173043 \\
	& (+7 politicians)\\ %\hline
	\end{tabular}
\end{center}
\caption{Statistics of the users of the first dataset. Remember that the total number of politicians is 7. We curiously found that the politician 14078646 (Idvstaff) follows the politician 19067940 (beppe\_grillo).}
\end{figure}

This part has been developed in python (see script \texttt{graph.py}).

\section{Hashtags}

\subsection{Giving a meaning to an hashtag}
We tried to use \href{http://tagme.di.unipi.it/}{TAGME} to give hashtags a meaning, that is associating to each hashtag a list of topics that can be taken as its ``decription''. For this purpose we used the tweets from the users of the second dataset.
In particular we performed the following steps:
\begin{enumerate}
\item Select only tweets that contains at least an hashtag. This has been done with a simple bash command.
\item Filter only tweets that has at least one annotation. This has been done with the script \texttt{tweetsFilter.py}, which opens both the tweet file and the annotated one, discarding tweets with no annotation in the second file.
\item Collect for every user all the pairs (hashtag, (annotation)+), that means what topics the user used in correspondence of a certain hashtag. Actually we also stored a weight for every annotation, that could be in practice the number of times the pair (hashtag, annotation) has been used by that user, or sum of the \textit{rho}s of these annotations. For furter details see the script \texttt{hashtagAnnotation.py}.
\item Merge all the informations produced above, creating a unique association (hashtag, (annotation)+), summing up the contributions of every user. This has been done with the script \texttt{hashtagMerge.py}.
\end{enumerate}

The last two points could have been realized in one single step, but for simplicity and further extensions we preferred to keep the two parts separated.

Notice that as we built associations of the type (hashtag, (annotation)+) we can easily ``invert'' this if we want to manage (annotation, (hashtag)+) pairs, as we done in section \ref{sec:tagger}.	


\subsection{Other meanings}
We download some hashtag semantic from \href{http://tagdef.com/}{tagdef.com}..

\subsection{Tagger}
\label{sec:tagger}
With the informations collected by the TAGME annotation, we built a little program that, taken a phrase as input, suggest a set of possible hashtags that could describe the topics in that phrase.

\section{Sentiment Analysis}
\subsection{Tweet filtering}
Here we needed to distinguish tweets speaking about politics from the other ones. In fact we are interested in comparing users on their political opinions, not on every possible other topic. This have some advantages:
\begin{enumerate}
\item Greatly reduces the input data size. Of course not every tweet speaks of politics.
\item Gives a better approximation of the political point of view of a user. In fact a two users can be very close politically but very far in other contexts (cinema likes/dislikes for example).
\end{enumerate}

This filtering can be done in two ways:
\begin{enumerate}
\item Using a dictionary to of interesting political words, and keep tweets that have a term in that dictionary. Problem:  how to define such dictionary?
\item Using some semantic annotator, like TAGME, keeping phrases that have some annotation about politics. Actually also this approach needs the definition of a dictionary (of annotation this time), but the dictionary terms are potentially a lot less. TAGME has the possibility to compute a similarity score between topics (class \texttt{RelatednessCache}), so we need only to define some central topic for our analysis (like the names of the politicians, and the topic ``Politics'') and then compute scores against the topics found in a tweet. If the total score is over a certain threshold the tweet is kept, otherwise is discarded.
\end{enumerate}

Of course the second approach is heavily influenced on how much precise is the annotator.

\subsection{Similarity among users}
E qui si che e' un bordello...

%\bibliographystyle{abbrv}
%bibliography{biblio}

\end{document}